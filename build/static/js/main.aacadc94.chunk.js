(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{17:function(e,t,n){e.exports=n(40)},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(15),r=n.n(c),u=n(16),l=n(2),i=n(4),s=n.n(i),d="api/persons",m=function(){var e=s.a.get(d);return console.log("from ContactService.js/getAll/1, request is :",e),e.then((function(e){return e.data}))},f=function(e){var t=s.a.post(d,e);return console.log("from ContactService.js/create/1, request is :",t),t.then((function(e){return e.data}))},h=function(e,t){var n=s.a.put("".concat(d,"/").concat(e),t);return console.log("from ContactService.js/update/1, request is :",n),n.then((function(e){return e.data}))},p=function(e){var t=s.a.delete("".concat(d,"/").concat(e));return console.log("from ContactService.js/deleteContact/1, request is :",t),t.then((function(e){return e.data}))},b=function(e){return o.a.createElement("form",{onSubmit:e.submitAction},o.a.createElement("label",null,e.text,o.a.createElement("input",{type:"text",onChange:e.changeHandler,value:e.value})),e.children)},v=function(e){var t=e.handleSearchChange,n=e.searchText;return o.a.createElement(b,{submitAction:function(e){return e.preventDefault()},text:"filter shown with ",changeHandler:t,value:n})},g=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",null,"Add a new contact"),o.a.createElement(b,{submitAction:e.addContact,text:"Name ",changeHandler:e.handleNameChange,value:e.newName}),o.a.createElement(b,{submitAction:e.addContact,text:"Number ",changeHandler:e.handleNumberChange,value:e.newNumber,add:"Add"},o.a.createElement("button",{style:{display:"block",width:110},type:"submit"},"Add")))},C=function(e){var t,n=e.contacts,a=e.searchText,c=e.removeContact,r=(t=a,n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})));return o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",null,"Numbers"),o.a.createElement("ul",{style:{listStyleType:"none"}},r.map((function(e){return o.a.createElement("div",{key:e.id},o.a.createElement("li",null,e.name," "," ",e.number," "," ",o.a.createElement("button",{onClick:function(){return c(e.id)}},"delete")))}))))},E=(n(39),function(e){var t=e.notification;return null===t?null:o.a.createElement("div",{className:t.classSelector},t.message)}),w=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),i=Object(l.a)(r,2),s=i[0],d=i[1],b=Object(a.useState)(""),w=Object(l.a)(b,2),j=w[0],S=w[1],A=Object(a.useState)(""),N=Object(l.a)(A,2),O=N[0],k=N[1],x=Object(a.useState)(null),y=Object(l.a)(x,2),T=y[0],q=y[1];Object(a.useEffect)((function(){console.log("from App.js/uEf/1, uEf Started"),m().then((function(e){c(e)})),console.log("from App.js/uEf/1, uEf finished")}),[]);var H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";q({message:e,classSelector:t}),setTimeout((function(){q(null)}),5e3)};return o.a.createElement("div",null,o.a.createElement("h2",null,"Phonebook"),o.a.createElement(E,{notification:T}),o.a.createElement(v,{handleSearchChange:function(e){k(e.target.value)},searchText:O}),o.a.createElement(g,{newName:s,newNumber:j,addContact:function(e){e.preventDefault();var t=n.find((function(e){return e.name===s}));t?window.confirm("".concat(t.name," already in phonebook, replace the old number with new one?"))&&h(t.id,{name:t.name,number:j}).then((function(e){console.log("from App.js/addContact() / update 2, returnedContact is :",e),c(n.map((function(t){return t.id!==e.id?t:e}))),H("Contact ".concat(s," in the phonebook was updated"))})).catch((function(e){var t=e.response.data.err;H("".concat(t),"error")})):f({name:s,number:j}).then((function(e){console.log("from App.js/addContact()/1, returnedContact is :",e),c([].concat(Object(u.a)(n),[e])),console.log("from App.js/addContact()/2, contacts is now:",n),H("Contact ".concat(s," was added to the phonebook"))})).catch((function(e){var t=e.response.data.err;H("".concat(t),"error")}));d(""),S("")},handleNameChange:function(e){d(e.target.value)},handleNumberChange:function(e){S(e.target.value)}}),o.a.createElement(C,{contacts:n,searchText:O,removeContact:function(e){console.log("from deleteContact() / 1, id is:",e);var t=n.find((function(t){return t.id===e}));window.confirm("Delete ".concat(t.name))&&p(t.id).then((function(){c(n.filter((function(e){return e.id!==t.id}))),H("Contact ".concat(t.name," was deleted from the phonebook"))})).catch((function(e){c(n.filter((function(e){return e.id!==t.id}))),H("Contact ".concat(t.name," was not found on the server"),"error")}))}}))};r.a.render(o.a.createElement(w,null),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.aacadc94.chunk.js.map