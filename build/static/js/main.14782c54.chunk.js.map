{"version":3,"sources":["services/ContactService.js","components/Shared/FormElement.js","components/FilterForm.js","components/ContactForm.js","components/ContactsDisplay.js","components/Shared/Notification.js","App.js","index.js"],"names":["baseUrl","request","axios","get","console","log","then","response","data","newObject","post","id","put","delete","FormElement","props","onSubmit","submitAction","text","type","onChange","changeHandler","value","children","FilterForm","handleSearchChange","searchText","event","preventDefault","ContactForm","addContact","handleNameChange","newName","handleNumberChange","newNumber","add","style","display","width","ContactsDisplay","searchValue","contacts","removeContact","filtered","filter","contact","name","toLowerCase","includes","listStyleType","map","key","number","onClick","Notification","className","message","errorStatus","App","useState","setContacts","setNewName","setNewNumber","setSearchText","setMessage","setErrorStatus","useEffect","ContactService","initialContacts","target","contactObject","foundContact","find","window","confirm","returnedContact","setTimeout","catch","errоr","contactToDelete","some","updatedContacts","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.14782c54.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\n/* const baseUrl = 'http://localhost:3001/api/persons' */\r\n\r\n//! käytetään jos backend lukee frontend-tiedostoa omasta kansiostaan:\r\nconst baseUrl = 'api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  console.log('from ContactService.js/getAll/1, request is :' , request);\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject) \r\n  console.log('from ContactService.js/create/1, request is :' , request);\r\n  return request.then(response => response.data) \r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  console.log('from ContactService.js/update/1, request is :' , request);\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deleteContact = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  console.log('from ContactService.js/deleteContact/1, request is :' , request);\r\n  return request.then(response => response.data)\r\n}\r\n\r\n  export default { \r\n    getAll, \r\n    create, \r\n    update,\r\n    deleteContact\r\n  }","import React from 'react'\r\n\r\nconst FormElement = (props) => {\r\n  return  (\r\n    <form onSubmit={props.submitAction}>\r\n      <label>\r\n      {props.text}\r\n        <input\r\n          type='text'  \r\n          onChange={props.changeHandler}\r\n          value={props.value}\r\n        />\r\n      </label>\r\n      {props.children}\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default FormElement ","import React from 'react'\r\n\r\nimport FormElement from './Shared/FormElement'\r\n\r\nconst FilterForm = ({handleSearchChange, searchText}) => {\r\n  return (\r\n    <FormElement\r\n      submitAction={event => event.preventDefault()}\r\n      text='filter shown with '\r\n      changeHandler={handleSearchChange}\r\n      value={searchText}\r\n    />\r\n  )\r\n}\r\n\r\nexport default FilterForm \r\n","import React from 'react'\r\n\r\nimport FormElement from './Shared/FormElement'\r\n\r\nconst ContactForm = (props) => {\r\n\r\n  return (\r\n    <>\r\n      <h3>\r\n        Add a new contact\r\n      </h3>\r\n      <FormElement\r\n        submitAction={props.addContact}\r\n        text='Name '\r\n        changeHandler={props.handleNameChange}\r\n        value={props.newName}\r\n      >\r\n      </FormElement>\r\n      <FormElement\r\n        submitAction={props.addContact}\r\n        text='Number '\r\n        changeHandler={props.handleNumberChange}\r\n        value={props.newNumber}\r\n        add='Add'\r\n      >\r\n      <button style={{display: 'block', width: 110}} type='submit'>Add</button>\r\n      </FormElement>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ContactForm \r\n","import React from 'react'\r\n\r\nconst ContactsDisplay = ({contacts, searchText, removeContact}) => {\r\n\r\n  const filterContacts = (array, searchValue) => {\r\n    return array.filter(contact => contact.name.toLowerCase().includes(searchValue.toLowerCase()))\r\n  }   \r\n  \r\n  const filtered = filterContacts(contacts, searchText);\r\n\r\n  return (\r\n    <>\r\n      <h3>Numbers</h3>\r\n      <ul style={{listStyleType: \"none\"}}>\r\n          {filtered.map(contact => \r\n          <div key={contact.id}>\r\n            <li>\r\n              {contact.name} {' '}\r\n              {contact.number} {' '}\r\n            <button onClick={() => removeContact(contact)}>delete</button>\r\n            </li>\r\n          </div>\r\n          )}\r\n      </ul>\r\n    </> \r\n  )\r\n}\r\n  \r\nexport default ContactsDisplay ","import React from 'react'\r\n\r\nimport '../Styles/Notification.css'\r\n\r\nconst Notification = ({ message, errorStatus }) => {\r\n  if (message === null) {\r\n    return null\r\n  }  \r\n\r\n  let className;\r\n\r\n  if (!errorStatus) {\r\n    className = 'success';\r\n  } else {\r\n    className = 'error';\r\n  }\r\n\r\n\r\n  return (\r\n    <div className={className}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification; ","\r\nimport React, { useState, useEffect } from 'react'\r\n\r\nimport ContactService from './services/ContactService'\r\nimport FilterForm from './components/FilterForm'\r\nimport ContactForm from './components/ContactForm'\r\nimport ContactsDisplay from './components/ContactsDisplay'\r\nimport Notification from './components/Shared/Notification'\r\n\r\nconst App = () => {\r\n  const [ contacts, setContacts] = useState([]) \r\n  const [ newName, setNewName ] = useState('') \r\n  const [ newNumber, setNewNumber ] = useState('') \r\n  const [ searchText, setSearchText ] = useState('') \r\n  const [message, setMessage] = useState(null)\r\n  const [errorStatus, setErrorStatus] = useState(false)\r\n\r\n  useEffect(() => {\r\n    console.log('from App.js/uEf/1, uEf Started');    \r\n    ContactService\r\n      .getAll()\r\n      .then(initialContacts => {\r\n        setContacts(initialContacts)\r\n      })\r\n      console.log('from App.js/uEf/1, uEf finished');\r\n  }, [])\r\n \r\n  const addContact = (event) => {\r\n      event.preventDefault()\r\n      const contactObject = {\r\n        name: newName,\r\n        number: newNumber\r\n      }       \r\n      let foundContact = contacts.find(contact => contact.name === newName);\r\n    if (foundContact) { \r\n      let id = foundContact.id\r\n      console.log('from addContact() / update / 1, id is: ', id);\r\n        if (window.confirm(`${newName} is already in the phonebook, replace the old number with a new one?`)) {\r\n          ContactService\r\n            .update(id, contactObject)\r\n            .then(returnedContact => {\r\n              console.log('from App.js/addContact() / update 2, returnedContact is :', returnedContact);\r\n              setContacts(contacts.map(contact => contact.id !== id ? contact : returnedContact))\r\n              setMessage(`Contact ${newName} in the phonebook was updated`)\r\n              setTimeout(() => {\r\n                setMessage(null)\r\n              }, 5000)\r\n            })\r\n            .catch(errоr => {\r\n              setErrorStatus(true);\r\n              setMessage(`Contact ${newName} was not found on the server`)\r\n              setTimeout(() => {\r\n                setMessage(null)\r\n              }, 5000)\r\n              setContacts(contacts.filter(contact => contact.id !== id))\r\n            })\r\n        }\r\n    } else {\r\n      ContactService\r\n       .create(contactObject)\r\n       .then(returnedContact => {\r\n         console.log('from App.js/addContact()/1, returnedContact is :', returnedContact);\r\n         setContacts([...contacts, returnedContact]) \r\n         console.log('from App.js/addContact()/2, contacts is now:', contacts)\r\n         setMessage(`Contact ${newName} was added to the phonebook`)\r\n         setTimeout(() => {\r\n           setMessage(null)\r\n         }, 5000)\r\n      })\r\n    }\r\n    setNewName('');\r\n    setNewNumber('');\r\n    setErrorStatus(false);\r\n  }\r\n\r\n  const removeContact = (contactToDelete) => {\r\n    console.log('from deleteContact() / 1, contactToDelete is:', contactToDelete);\r\n    if (contacts.some(contact => contact.id === contactToDelete.id)) {\r\n      if (window.confirm(`Delete ${contactToDelete.name} ?`)) {\r\n       ContactService\r\n       .deleteContact(contactToDelete.id)\r\n       .then(() => {\r\n         const updatedContacts = contacts.filter(contact => contact.id !== contactToDelete.id)\r\n        setContacts(updatedContacts)\r\n        setMessage(`Contact ${contactToDelete.name} was deleted from the phonebook`)\r\n        setTimeout(() => {\r\n          setMessage(null)\r\n        }, 5000)\r\n        })\r\n        .catch(errоr => {\r\n          setErrorStatus(true);\r\n          setMessage(`Contact ${contactToDelete.name} was not found on the server`)\r\n          setTimeout(() => {\r\n            setMessage(null)\r\n          }, 5000)\r\n          setContacts(contacts.filter(contact => contact.id !== contactToDelete.id))\r\n        })\r\n      }  \r\n    }\r\n  }\r\n  \r\n  const handleNameChange = (event) => {\r\n      setNewName(event.target.value)        \r\n  }\r\n  const handleNumberChange = (event) => {\r\n      setNewNumber(event.target.value)        \r\n  }\r\n  const handleSearchChange = (event) => {\r\n    setSearchText(event.target.value);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification \r\n        message={message}\r\n        errorStatus={errorStatus}\r\n        />\r\n      <FilterForm \r\n        handleSearchChange={handleSearchChange}\r\n        searchText={searchText}\r\n      />\r\n      <ContactForm \r\n        newName={newName} \r\n        newNumber={newNumber}\r\n        addContact={addContact}\r\n        handleNameChange={handleNameChange}\r\n        handleNumberChange={handleNumberChange}\r\n      /> \r\n      <ContactsDisplay \r\n        contacts={contacts} \r\n        searchText={searchText}\r\n        removeContact={removeContact}\r\n        />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App \r\n\r\n\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}